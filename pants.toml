[GLOBAL]
pantsd = false
pants_version = '2.14.0rc0'

pythonpath = ["%(buildroot)s/pants-plugins"]

build_file_prelude_globs = ["pants-plugins/macros.py"]

backend_packages = [
  'pants.backend.python',
  'pants.backend.python.lint.black',
  'pants.backend.python.lint.isort',
  'pants.backend.python.lint.docformatter',
  'pants.backend.experimental.python',
  'pants.backend.python.mixed_interpreter_constraints',

  'pants.backend.shell',
  'pants.backend.shell.lint.shfmt',
  'pants.backend.shell.lint.shellcheck',

  'pants.backend.experimental.go',

  'pants.backend.docker',

  'pants.backend.plugin_development',
  'meh',
]

pants_ignore = [
  ".*/",
  "/dist/",
  "/gen/"
]

[cli.alias]
green = "update-build-files fmt lint check ::"
dev = "--changed-since=HEAD --changed-dependees=transitive"

[subprocess-environment]
env_vars = ["TWINE_USERNAME", "TWINE_PASSWORD"]

[source]
root_patterns = [
  '3rdparty/python',
  'src',
  'provider',
  'bin',
  'pants-plugins',
]

[stats]
log = false

[anonymous-telemetry]
enabled = false

[golang]
minimum_expected_version = "1.19"
asdf_tool_name = "golang"
asdf_bin_relpath = "go/bin"
go_search_paths = ["<ASDF>"]

[python]
enable_resolves = true

[python-bootstrap]
search_path = ["<ASDF>", "<PATH>"]

[python.resolves]
pants-plugins = "pants-plugins/plugins.lock"
python-default = "3rdparty/python/default.lock"
defn = "3rdparty/python/defn.lock"

[python.resolves_to_interpreter_constraints]
pants-plugins = [">=3.8,<3.10"]
python-default = [">=3.10,<4"]
defn = [">=3.10,<4"]

[isort]
config = [".isort.cfg"]

[shfmt]
args = ["-i 2", "-ci", "-sr"]

[docker]
env_vars = [
  "DOCKER_HOST"
]
