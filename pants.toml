[GLOBAL]
pantsd = false
pants_version = '2.11.0'

pythonpath = ["%(buildroot)s/pants-plugins"]

build_file_prelude_globs = ["pants-plugins/macros.py"]

backend_packages = [
  'pants.backend.python',
  'pants.backend.python.lint.black',
  'pants.backend.python.lint.isort',
  'pants.backend.python.lint.flake8',
  'pants.backend.python.lint.docformatter',
  'pants.backend.experimental.python',
  'pants.backend.shell',
  'pants.backend.shell.lint.shfmt',
  'pants.backend.shell.lint.shellcheck',
  'pants.backend.docker',
  'pants.backend.plugin_development',
  # This will activate `pants-plugins/meh/register.py`.
  #"meh",
]

[cli.alias]
green = "update-build-files fmt lint check ::"
dev = "--changed-since=HEAD --changed-dependees=transitive"

[subprocess-environment]
env_vars.add = ["TWINE_USERNAME", "TWINE_PASSWORD"]

[source]
root_patterns = [
  '3rdparty/python',
  'src',
  'provider',
  'bin',
  'pants-plugins',
]

[stats]
log = false

[anonymous-telemetry]
enabled = false

[python]
enable_resolves = true
lockfile_generator = 'pex'
interpreter_constraints = [">=3.10,<4"]

[python.resolves]
pants-plugins = "pants-plugins/plugins.lock"
python-default = "3rdparty/python/default.lock"

[python.resolves_to_interpreter_constraints]
pants-plugins = [">=3.8,<3.10"]

[isort]
config = [".isort.cfg"]

[flake8]
config = ".flake8"

[shfmt]
args = ["-i 2", "-ci", "-sr"]

[docker]
env_vars = [
  "DOCKER_HOST"
]
